<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <header>
        <a href="../index.html"><img src="../imagenes/logo.png" alt="" id="logo"></a>
        <a href="../controladores/cerrar_sesion.php" style="color: white;">Cerrar sesion</a>
    </header>
    <section>
        <div id="listaRutinas">
            <div id="rutinas"></div>
            <a href="./ejercicios.html"><button id="nuevaRutina">AÃ±adir rutina</button></a>
        </div>
        <div id="ejercicios"></div>
    </section>

    <script>
        //Listas de la pagina
        const listaRutinas = document.getElementById('listaRutinas');
        const rutinas = document.getElementById('rutinas');
        const listaEjercicios = document.getElementById('ejercicios');

        window.addEventListener('load', () => {
            fetch('../controladores/rutina_proceso.php', {
                method: 'GET'
            }).then(response => response.json()).then(data => {
                let dias;

                for (const rutina of data.rutinas) {
                    dias = '';
                    for (const dia of rutina.dias.split(';')) {
                        console.log(dia);
                        dias += `${obtenerDia(dia)}, `;
                    }
                    dias = dias.substring(0, dias.length - 2)
                    rutinas.innerHTML += `
                    <div class="rutina">
                        <p>${rutina.nombre}</p>
                        <p>${dias}</p>
                        
                    `;
                }
            });
        });

        function obtenerDia(dia) {
            switch (dia) {
                case "0":
                    numero = 'domingo';
                    break;
                case '1':
                    numero = 'lunes';
                    break;
                case '2':
                    numero = 'martes';
                    break;
                case '3':
                    numero = 'miercoles';
                    break;
                case '4':
                    numero = 'jueves';
                    break;
                case '5':
                    numero = 'viernes';
                    break;
                default:
                    numero = 'sabado';
                    break;
            }
            return numero;
        }
    </script>
</body>

</html>